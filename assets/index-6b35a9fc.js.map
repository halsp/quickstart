{"version":3,"file":"index-6b35a9fc.js","sources":["../../src/views/iframe/index.vue"],"sourcesContent":["<template>\n  <div ref=\"containerRef\">\n    <PluginSelecter :on-submit=\"onSubmit\" />\n  </div>\n</template>\n\n<script setup lang=\"ts\">\n  import { onMounted, ref } from 'vue';\n  import PluginSelecter from '/@/components/PluginSelecter.vue';\n  import { useRoute } from 'vue-router';\n  import sdk, { Project } from '@stackblitz/sdk';\n\n  const route = useRoute();\n\n  const containerRef = ref<HTMLDivElement>();\n\n  function noticeChange() {\n    if (!containerRef.value) return;\n\n    const parent = window.parent;\n    parent.postMessage(\n      {\n        width: containerRef.value!.scrollWidth,\n        height: containerRef.value!.scrollHeight,\n      },\n      route.query.origin as string,\n    );\n  }\n\n  onMounted(() => {\n    if (self === top) return;\n\n    setInterval(() => {\n      noticeChange();\n    }, 200);\n  });\n\n  function onSubmit(project: Project) {\n    sdk.openProject(project, {\n      openFile: 'README.md',\n    });\n  }\n</script>\n"],"names":["route","useRoute","containerRef","ref","noticeChange","onMounted","onSubmit","project","sdk"],"mappings":"iNAYE,MAAAA,EAAAC,IAEAC,EAAAC,IAEA,SAAAC,GAAA,CACE,GAAA,CAAAF,EAAA,MAAyB,OAEzB,OAAA,OACA,YAAO,CACL,MAAAA,EAAA,MAAA,YAC6B,OAAAA,EAAA,MAAA,YACC,EAC9BF,EAAA,MAAA,MACY,CACd,CAGFK,EAAA,IAAA,CACE,OAAA,KAEA,YAAA,IAAA,CACED,GAAa,EAAA,GAAA,CACT,CAAA,EAGR,SAAAE,EAAAC,EAAA,CACEC,EAAA,YAAAD,EAAA,CAAyB,SAAA,WACb,CAAA,CACX"}